{"remainingRequest":"/Users/leehs/Downloads/kjxh_mianshi/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/leehs/Downloads/kjxh_mianshi/src/views/info.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/leehs/Downloads/kjxh_mianshi/src/views/info.vue","mtime":1601185114830},{"path":"/Users/leehs/Downloads/kjxh_mianshi/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leehs/Downloads/kjxh_mianshi/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/leehs/Downloads/kjxh_mianshi/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leehs/Downloads/kjxh_mianshi/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBpbmZvQXBpIGZyb20gIkAvYXBpL2luZm8uanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJpbmZvIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoRGF0YTogIiIsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHRpbWVDaGFuZ2U6IGZhbHNlLAogICAgICB0aW1lQ2hhbmdlV2luZG93OiB7CiAgICAgICAgc3RlcDE6IHRydWUsCiAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgdGltZURhdGU6ICIiLAogICAgICAgIHRpbWVIb3VyOiAiIiwKICAgICAgICBpbnRlcnZpZXc6ICIiLAogICAgICAgIHN0dWRlbnRJZDogW10sCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8v6I635Y+WdXVpZAogICAgbGV0IHV1aWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1dWlkIik7CiAgICAvL+iOt+WPluWFqOmDqOS/oeaBrwogICAgaW5mb0FwaS5nZXRBbGxTdHVkZW50cyh1dWlkLCB0aGlzKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5YiH5o2i5Yiw5L+u5pS55p2D5YC856qX5Y+jCiAgICBzd2l0Y2hUbyhuYW1lKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogbmFtZSB9KTsKICAgIH0sCiAgICAvL+afpeivouivpue7huS/oeaBrwogICAgZm9yRGV0YWlsKHJvdykgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3N0dURldGFpbHMvJHtyb3cuc3R1ZGVudElkfWApOwogICAgfSwKICAgIC8v5om56YeP5L+u5pS55pe26Ze0CiAgICBiYXRjaENoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgLy/muIXnqbrmlbDnu4QKICAgICAgdGhpcy50aW1lQ2hhbmdlV2luZG93LnN0dWRlbnRJZC5sZW5ndGggPSAwOwogICAgICAvL+WKoOWFpeW3sumAieWPlueahOWFg+e0oAogICAgICBzZWxlY3Rpb24uZm9yRWFjaCgodmFsKSA9PiB7CiAgICAgICAgdGhpcy50aW1lQ2hhbmdlV2luZG93LnN0dWRlbnRJZC5wdXNoKHZhbC5zdHVkZW50SWQpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+WNleihjOS/ruaUueesrOS4gOatpQogICAgc2luZ2FsT3BlbkNoYW5nZShyb3cpIHsKICAgICAgLy/muIXnqbrmlbDnu4QKICAgICAgdGhpcy50aW1lQ2hhbmdlV2luZG93LnN0dWRlbnRJZC5sZW5ndGggPSAwOwogICAgICAvL+WKoOWFpemAieS4reWNleWFg+e0oAogICAgICB0aGlzLnRpbWVDaGFuZ2VXaW5kb3cuc3R1ZGVudElkLnB1c2gocm93LnN0dWRlbnRJZCk7CiAgICAgIC8v5omT5byA5L+u5pS556qX5Y+jCiAgICAgIHRoaXMudGltZUNoYW5nZVdpbmRvdy5zaG93ID0gdHJ1ZTsKICAgIH0sCiAgICAvL+WNleihjOS/ruaUueesrOS6jOatpQogICAgc2luZ2FsT3BlbkNoYW5nZTIoaW5kZXgpIHsKICAgICAgLy/kuIDpnaLov5jmmK/kuozpnaIKICAgICAgdGhpcy50aW1lQ2hhbmdlV2luZG93LmludGVydmlldyA9IGluZGV4OwogICAgICAvL+WIh+aNouWIsOesrOS6jOatpQogICAgICB0aGlzLnRpbWVDaGFuZ2VXaW5kb3cuc3RlcDEgPSBmYWxzZTsKICAgIH0sCiAgICAvL+WkmumAieaJk+W8gAogICAgbXVsT3BlbkNoYW5nZShpbmRleCkgewogICAgICAvL+S4gOmdoui/mOaYr+S6jOmdogogICAgICB0aGlzLnRpbWVDaGFuZ2VXaW5kb3cuaW50ZXJ2aWV3ID0gaW5kZXg7CiAgICAgIC8v5YiH5o2i5Yiw56ys5LqM5q2lCiAgICAgIHRoaXMudGltZUNoYW5nZVdpbmRvdy5zdGVwMSA9IGZhbHNlOwogICAgICAvL+aYvuekuueql+WPowogICAgICB0aGlzLnRpbWVDaGFuZ2VXaW5kb3cuc2hvdyA9IHRydWU7CiAgICB9LAogICAgLy/lj5HpgIHkv67mlLkKICAgIHNlbmRDaGFuZ2UoKSB7CiAgICAgIC8v5oum5oiq56ys5LiA5q2lCiAgICAgIGlmICh0aGlzLnRpbWVDaGFuZ2VXaW5kb3cuc3RlcDEpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLy/nlJ/miJDmlbDmja4KICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgdXVpZDogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXVpZCIpLAogICAgICAgIHN0dWRlbnRJZDogdGhpcy50aW1lQ2hhbmdlV2luZG93LnN0dWRlbnRJZCwKICAgICAgICBpbnRlcnZpZXc6IHRoaXMudGltZUNoYW5nZVdpbmRvdy5pbnRlcnZpZXcsCiAgICAgICAgdGltZToKICAgICAgICAgIHRoaXMudGltZUNoYW5nZVdpbmRvdy50aW1lRGF0ZSArICIgIiArIHRoaXMudGltZUNoYW5nZVdpbmRvdy50aW1lSG91ciwKICAgICAgfTsKICAgICAgLy/lj5HpgIHmlbDmja4KICAgICAgaW5mb0FwaS5jaGFuZ2VUaW1lKGRhdGEsIHRoaXMpOwogICAgICAvL+mHjeWItuatpemqpAogICAgICB0aGlzLnRpbWVDaGFuZ2VXaW5kb3cuc3RlcDEgPSB0cnVlOwogICAgfSwKICAgIC8v5Y+W5raI5L+u5pS5CiAgICBjYW5jZWxDaGFuZ2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKGDlj5bmtojkv67mlLlgKTsKICAgICAgLy/ph43liLbmraXpqqQKICAgICAgdGhpcy50aW1lQ2hhbmdlV2luZG93LnN0ZXAxID0gdHJ1ZTsKICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgY2hhbmdlVGltZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLnRpbWVDaGFuZ2VXaW5kb3cuaW50ZXJ2aWV3ID09PSAxID8gIuS4gOmdoiIgOiAi5LqM6Z2iIjsKICAgIH0sCiAgfSwKICBjb21wb25lbnRzOiB7fSwKfTsK"},{"version":3,"sources":["info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"info.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"info\">\n    <header>\n      <div class=\"warp1\">\n        <el-input v-model=\"searchData\" placeholder=\"请输入搜索内容\"></el-input>\n        <el-button type=\"success\">搜索</el-button>\n      </div>\n      <div class=\"warp2\">\n        <el-button>导出excel</el-button>\n        <el-button @click=\"switchTo('weightChange')\">修改权值</el-button>\n        <el-button @click=\"timeChange = !timeChange\"\n          >开启修改时间面板</el-button\n        >\n      </div>\n    </header>\n\n    <el-table\n      :data=\"tableData\"\n      @row-click=\"forDetail\"\n      @selection-change=\"batchChange\"\n    >\n      <el-table-column type=\"selection\" v-if=\"timeChange\"></el-table-column>\n      <el-table-column\n        prop=\"studentId\"\n        label=\"学号\"\n        align=\"center\"\n      ></el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"name\"\n        label=\"姓名\"\n      ></el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"class\"\n        label=\"班级\"\n      ></el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"time1\"\n        label=\"一面时间\"\n      ></el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"score1\"\n        label=\"一面分数\"\n      ></el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"time2\"\n        label=\"二面时间\"\n      ></el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"score2\"\n        label=\"二面分数\"\n      ></el-table-column>\n      <el-table-column label=\"动作\" align=\"center\">\n        <template v-slot=\"scope\">\n          <div class=\"action\">\n            <el-button\n              :disabled=\"!timeChange\"\n              @click.stop=\"singalOpenChange(scope.row)\"\n              >修改面试时间</el-button\n            >\n          </div>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <transition name=\"button1\">\n      <div class=\"timeChangeSubmit\" v-if=\"timeChange\">\n        <el-button @click=\"mulOpenChange(1)\">批量修改一面时间</el-button>\n        <el-button @click=\"mulOpenChange(2)\">批量修改二面时间</el-button>\n      </div>\n    </transition>\n\n    <Modal\n      v-model=\"timeChangeWindow.show\"\n      @on-ok=\"sendChange\"\n      @on-cancel=\"cancelChange\"\n    >\n      <div class=\"level1\" v-if=\"timeChangeWindow.step1\">\n        <el-button @click=\"singalOpenChange2(1)\">修改一面时间</el-button>\n        <el-button @click=\"singalOpenChange2(2)\">修改二面时间</el-button>\n      </div>\n      <div class=\"level2\" v-else>\n        <p>{{ changeTimes }}时间</p>\n        <div class=\"warp\">\n          <el-date-picker\n            v-model=\"timeChangeWindow.timeDate\"\n            type=\"date\"\n            placeholder=\"选择日期\"\n            value-format=\"yyyy-MM-dd\"\n          ></el-date-picker>\n          <el-time-select\n            v-model=\"timeChangeWindow.timeHour\"\n            :picker-options=\"{\n              start: '00:00',\n              step: '00:30',\n              end: '23:30',\n            }\"\n            placeholder=\"选择时间\"\n          ></el-time-select>\n        </div>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport infoApi from \"@/api/info.js\";\n\nexport default {\n  name: \"info\",\n  data() {\n    return {\n      searchData: \"\",\n      tableData: [],\n      timeChange: false,\n      timeChangeWindow: {\n        step1: true,\n        show: false,\n        timeDate: \"\",\n        timeHour: \"\",\n        interview: \"\",\n        studentId: [],\n      },\n    };\n  },\n  mounted() {\n    //获取uuid\n    let uuid = sessionStorage.getItem(\"uuid\");\n    //获取全部信息\n    infoApi.getAllStudents(uuid, this);\n  },\n  methods: {\n    //切换到修改权值窗口\n    switchTo(name) {\n      this.$router.push({ name: name });\n    },\n    //查询详细信息\n    forDetail(row) {\n      this.$router.push(`/stuDetails/${row.studentId}`);\n    },\n    //批量修改时间\n    batchChange(selection) {\n      //清空数组\n      this.timeChangeWindow.studentId.length = 0;\n      //加入已选取的元素\n      selection.forEach((val) => {\n        this.timeChangeWindow.studentId.push(val.studentId);\n      });\n    },\n    //单行修改第一步\n    singalOpenChange(row) {\n      //清空数组\n      this.timeChangeWindow.studentId.length = 0;\n      //加入选中单元素\n      this.timeChangeWindow.studentId.push(row.studentId);\n      //打开修改窗口\n      this.timeChangeWindow.show = true;\n    },\n    //单行修改第二步\n    singalOpenChange2(index) {\n      //一面还是二面\n      this.timeChangeWindow.interview = index;\n      //切换到第二步\n      this.timeChangeWindow.step1 = false;\n    },\n    //多选打开\n    mulOpenChange(index) {\n      //一面还是二面\n      this.timeChangeWindow.interview = index;\n      //切换到第二步\n      this.timeChangeWindow.step1 = false;\n      //显示窗口\n      this.timeChangeWindow.show = true;\n    },\n    //发送修改\n    sendChange() {\n      //拦截第一步\n      if (this.timeChangeWindow.step1) {\n        return;\n      }\n      //生成数据\n      let data = {\n        uuid: sessionStorage.getItem(\"uuid\"),\n        studentId: this.timeChangeWindow.studentId,\n        interview: this.timeChangeWindow.interview,\n        time:\n          this.timeChangeWindow.timeDate + \" \" + this.timeChangeWindow.timeHour,\n      };\n      //发送数据\n      infoApi.changeTime(data, this);\n      //重制步骤\n      this.timeChangeWindow.step1 = true;\n    },\n    //取消修改\n    cancelChange() {\n      console.log(`取消修改`);\n      //重制步骤\n      this.timeChangeWindow.step1 = true;\n    },\n  },\n  computed: {\n    changeTimes() {\n      return this.timeChangeWindow.interview === 1 ? \"一面\" : \"二面\";\n    },\n  },\n  components: {},\n};\n</script>\n\n<style scoped lang=\"scss\">\n#info {\n  header {\n    margin-bottom: 30px;\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: nowrap;\n    .warp1 {\n      display: flex;\n      flex-wrap: nowrap;\n      .el-input {\n        min-width: 200px;\n        max-width: 500px;\n      }\n    }\n    .warp2 {\n      display: flex;\n      flex-wrap: nowrap;\n    }\n  }\n  .el-table {\n    min-width: 700px;\n  }\n  .timeChangeSubmit {\n    min-width: 180px;\n    margin-top: 20px;\n    display: flex;\n    justify-content: flex-end;\n  }\n}\n\n.ivu-modal-content {\n  .level1 {\n    margin-top: 20px;\n    display: flex;\n    justify-content: space-around;\n  }\n  .level2 {\n    p {\n      font-size: 18px;\n      font-weight: bold;\n      margin-bottom: 20px;\n    }\n    .warp {\n      display: flex;\n      justify-content: space-between;\n    }\n  }\n}\n.button1-enter-active {\n  animation: fadeInUp;\n  animation-duration: 0.75s;\n}\n</style>\n"]}]}