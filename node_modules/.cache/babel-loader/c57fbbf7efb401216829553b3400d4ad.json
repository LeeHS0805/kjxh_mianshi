{"remainingRequest":"/Users/leehs/Downloads/kjxh_mianshi/node_modules/babel-loader/lib/index.js!/Users/leehs/Downloads/kjxh_mianshi/node_modules/eslint-loader/index.js??ref--13-0!/Users/leehs/Downloads/kjxh_mianshi/src/api/login.js","dependencies":[{"path":"/Users/leehs/Downloads/kjxh_mianshi/src/api/login.js","mtime":1601543203750},{"path":"/Users/leehs/Downloads/kjxh_mianshi/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/leehs/Downloads/kjxh_mianshi/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/leehs/Downloads/kjxh_mianshi/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9sZWVocy9Eb3dubG9hZHMva2p4aF9taWFuc2hpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IGNvbmZpZyBmcm9tICJAL2NvbmZpZy9jb25maWcuanNvbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBsb2dpbjogZnVuY3Rpb24gbG9naW4oZGF0YSwgdm0pIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAvL+W8gOWQr+mBrue9qeWxggogICAgICAgICAgICAgIHZtLiRzdG9yZS5jb21taXQoInRvZ2dsZU92ZXJMYXkiKTsgLy/lj5HpgIHor7fmsYIKCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldChjb25maWcuc2VydmVyQWRkcmVzcyArICIvbG9naW4/bmFtZT0iLmNvbmNhdChkYXRhLm5hbWUsICImcGFzc3dvcmQ9IikuY29uY2F0KGRhdGEucGFzc3dvcmQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDApIHsKICAgICAgICAgICAgICAgICAgLy/lrZjlgqh1dWlkCiAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInV1aWQiLCBkYXRhLnV1aWQpOwogICAgICAgICAgICAgICAgICB2bS4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIueZu+W9leaIkOWKn++8gSIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgIH0pOyAvL+i3s+i9rOWIsGFkbWluCgogICAgICAgICAgICAgICAgICB2bS4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdhZG1pbicKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB2bS4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tc2csCiAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIC8v5YWz6Zet6YGu572p5bGCCiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2bS4kc3RvcmUuY29tbWl0KCJ0b2dnbGVPdmVyTGF5Iik7CiAgICAgICAgICAgICAgfSwgMTAwMCk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/leehs/Downloads/kjxh_mianshi/src/api/login.js"],"names":["axios","config","login","data","vm","$store","commit","get","serverAddress","name","password","then","res","status","sessionStorage","setItem","uuid","$message","message","type","$router","push","msg","catch","err","console","log","setTimeout"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AAEA,eAAe;AACPC,EAAAA,KADO,iBACDC,IADC,EACKC,EADL,EACS;AAAA;AAAA;AAAA;AAAA;AAAA;AACpB;AACAA,cAAAA,EAAE,CAACC,MAAH,CAAUC,MAAV,CAAiB,eAAjB,EAFoB,CAGpB;;AAHoB;AAAA,qBAIdN,KAAK,CACRO,GADG,CACCN,MAAM,CAACO,aAAP,yBAAsCL,IAAI,CAACM,IAA3C,uBAA4DN,IAAI,CAACO,QAAjE,CADD,EAEHC,IAFG,CAEE,UAACC,GAAD,EAAS;AACb,oBAAIT,IAAI,GAAGS,GAAG,CAACT,IAAf;;AACA,oBAAIA,IAAI,CAACU,MAAL,IAAe,CAAnB,EAAsB;AACpB;AACAC,kBAAAA,cAAc,CAACC,OAAf,CAAuB,MAAvB,EAA+BZ,IAAI,CAACa,IAApC;AACAZ,kBAAAA,EAAE,CAACa,QAAH,CAAY;AACVC,oBAAAA,OAAO,EAAE,OADC;AAEVC,oBAAAA,IAAI,EAAE;AAFI,mBAAZ,EAHoB,CAOpB;;AACAf,kBAAAA,EAAE,CAACgB,OAAH,CAAWC,IAAX,CAAgB;AACdZ,oBAAAA,IAAI,EAAE;AADQ,mBAAhB;AAGD,iBAXD,MAWO;AACLL,kBAAAA,EAAE,CAACa,QAAH,CAAY;AACVC,oBAAAA,OAAO,EAAEf,IAAI,CAACmB,GADJ;AAEVH,oBAAAA,IAAI,EAAE;AAFI,mBAAZ;AAID;AACF,eArBG,EAsBHI,KAtBG,CAsBG,UAACC,GAAD,EAAS;AACdC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,eAxBG,CAJc;;AAAA;AA6BpB;AACAG,cAAAA,UAAU,CAAC,YAAM;AACfvB,gBAAAA,EAAE,CAACC,MAAH,CAAUC,MAAV,CAAiB,eAAjB;AACD,eAFS,EAEP,IAFO,CAAV;;AA9BoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiCrB;AAlCY,CAAf","sourcesContent":["import axios from \"axios\";\nimport config from \"@/config/config.json\";\n\nexport default {\n  async login(data, vm) {\n    //开启遮罩层\n    vm.$store.commit(\"toggleOverLay\");\n    //发送请求\n    await axios\n      .get(config.serverAddress + `/login?name=${data.name}&password=${data.password}`)\n      .then((res) => {\n        let data = res.data\n        if (data.status == 0) {\n          //存储uuid\n          sessionStorage.setItem(\"uuid\", data.uuid);\n          vm.$message({\n            message: \"登录成功！\",\n            type: \"success\",\n          });\n          //跳转到admin\n          vm.$router.push({\n            name: 'admin'\n          })\n        } else {\n          vm.$message({\n            message: data.msg,\n            type: \"error\",\n          });\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    //关闭遮罩层\n    setTimeout(() => {\n      vm.$store.commit(\"toggleOverLay\");\n    }, 1000);\n  }\n};\n"]}]}